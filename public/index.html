<!DOCTYPE html>
<html>

<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
    crossorigin="anonymous"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      margin: 0;
      font-family: Arial, Helvetica, sans-serif;
    }

    .topnav {
      overflow: hidden;
      background-color: #333;
    }

    .topnav a {
      float: left;
      color: #f2f2f2;
      text-align: center;
      padding: 14px 16px;
      text-decoration: none;
      font-size: 17px;
    }

    .topnav a:hover {
      background-color: #ddd;
      color: black;
    }

    .topnav a.active {
      background-color: #2196F3;
      color: white;
    }

    .topnav input[type=text] {
      float: right;
      padding: 6px;
      border: none;
      margin-top: 8px;
      margin-right: 16px;
      font-size: 17px;
    }

    @media screen and (max-width: 600px) {

      .topnav a,
      .topnav input[type=text] {
        float: none;
        display: block;
        text-align: left;
        width: 100%;
        margin: 0;
        padding: 14px;
      }

      .topnav input[type=text] {
        border: 1px solid #ccc;
      }
    }


    body {
      background-color: #222;
      color: #e6e6e6;
      border-color: #e6e6e6;
    }

    .latest-card {
      background-color: #222;
      color: #e6e6e6;
      border-color: #e6e6e6;
      max-width: 540px;
    }

    .top-card {
      background-color: #222;
      color: #e6e6e6;
      border-color: #e6e6e6;
      max-width: 540px;
    }

    buttons {
      float: right;
    }
  </style>
</head>

<body>
  <div class="topnav">
    <!-- Top Left Logo -->
    <a href="/">
      <img height=30px src="./assets/img/nav_logo.png" alt="Florida">
      <style>
        .logo-image {
          width: 46px;
          height: 46px;
          border-radius: 50%;
          overflow: hidden;
          margin-top: -6px;
        }
      </style>
      <a class="navbar-brand" href="/">Florida Man Stories</a>
    </a>

    <!-- Top Nav Tags -->
    <a href="#home">Home</a>
    <a href="#latestNews">Latest News</a>
    <a href="#topStories">Top Stories</a>
    <a href="#mostLiked">Most Liked</a>
    <a href="#funnyNews">Funny News</a>
    <a href="#politicalNews">Political News</a>
    <!--Weather-->
    <a href="#weather" id="weather"></a>
          </div>
        </div>
      </div>
    </div>
    <!-- Search Bar -->
    <div class="container">
      <input type="text" placeholder="Search...">
      <div class="search"></div>
    </div>
  </div>




  <div class="container" style="margin-top:30px">
    <div class="row">
      <div id="latest-news" class="col-6">
        <h3>Latest</h3>
        <div class="card mb-3 latest-card">
          <div class="row g-0">
            <div class="col-md-4">
              <img src="https://coduber.com/wp-content/uploads/2022/03/image-1-768x683.png?ezimgfmt=ng:webp/ngcb5"
                alt="Card image" style="width:100%; height:100%; fill:#55595c;" class="img-fluid rounded-start"
                alt="...">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">Placeholder</h5>
                <p class="card-text">placeholdertext</p>
                <div>
                  <a href="google.com">Content</a>
                  <button style="float:right" type="button" id="latest-button"
                    class="btn btn-danger btn-outline-light">Like</button>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="top-news" class="col-md-6">
        <h3>Top</h3>
        <div class="card mb-3 top-card" style="max-width: 540px;">
          <div class="row g-0">
            <div class="col-md-4">
              <img src="..." class="img-fluid rounded-start" alt="...">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">Placeholder</h5>
                <p class="card-text">placeholder text</p>
                <div>
                  <a href="google.com">Content</a>
                  <button style="float:right;" type="button" id="top-button"
                    class="btn btn-danger btn-outline-light">Like</button>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</body>
<script>
  let latestButton = document.getElementById("latest-button")
  // latestButton.addEventListener()
  getWeather()

  function getWeather() {
    fetch('https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/new%20york?unitGroup=metric&include=current%2Cdays&key=TKNH3KX7YXMA7N4FRV5VUQP9H&contentType=json')
      .then(res => res.json())
      .then(data => {
        // console.log(data.days[0].datetimeEpoch)
        // let date = new Date(data.days[0].datetimeEpoch*1000)
        // console.log(date)
        // let hours = date.getHours();
        // let min = date.getMinutes()
        // console.log(min)
        // console.log(typeof data.hourly)
        // let num = 0
        // for (let key of data.days.datetimeEpoch){
        let now = new Date()
        const weatherElement = document.createElement('div')
        const weatherImg = document.createElement('img')
        weatherImg.width = "25"
        weatherImg.height = "25"
        for (i = 0; i < data.days.length; i++) {
          const weatherDays = document.createElement('span')
          let key = new Date(data.days[i].datetimeEpoch * 1000)
          let temp = data.days[i].temp
          let tempMax = data.days[i].tempmax
          let tempMin = data.days[i].tempmin
          let sunCloudRain = data.days[i].icon
          let nowDate = now.getDate()
          let keyDate = key.getDate()
          let eachLine = `${keyDate}${sunCloudRain}${tempMax}${tempMin}`
          console.log(nowDate)
          console.log(keyDate)
          if ((nowDate == keyDate)) {
            weatherDays.append(`${temp}\u00B0 `)
            weatherImg.src = "./assets/img/rainy.png"
            weatherDays.append(weatherImg)

          }
          // weatherDays.append(eachLine)
          weatherElement.appendChild(weatherDays)
          document.querySelector("#weather").appendChild(weatherElement)
        }
      })
  }

  function addLatestNews() {
    const newsCard = document.createElement('div')
    newsCard.setAttribute("class", "card mb-3 latest-card")
    const row = document.createElement('div')
    row.setAttribute("class", "row g-0")
    newsCard.append(row)
    const col = document.createElement('div')
    col.setAttribute("class", "col-md-4")
    row.append(col)
    const newsImg = document.createElement('img')
    newsImg.setAttribute("class", "img-fluid rounded-start")
    newsImg.src = "./assets/img/rainy.png"
    col.append(newsImg)
    const nextDiv = document.createElement('div')
    nextDiv.setAttribute('class', 'col-md-8')
    row.append(nextDiv)
    const body = document.createElement('div')
    body.setAttribute('class', 'card-body')
    nextDiv.append(body)
    let newsTitle = document.createElement('h5')
    newsTitle.setAttribute('class', 'card-title')
    newsTitle.textContent = "Title"
    body.append(newsTitle)
    let newsText = document.createElement('p')
    newsText.setAttribute('class', 'card-text')
    newsText.textContent = "text here"
    body.append(newsText)
    const lastDiv = document.createElement('div')
    body.append(lastDiv)
    let readThis = document.createElement('a')
    readThis.href = ""
    readThis.textContent = "Content     "
    lastDiv.append(readThis)
    let likeButton = document.createElement('button')
    likeButton.textContent = 'Like'
    likeButton.style.float = 'right'
    likeButton.setAttribute('type', 'button')
    likeButton.setAttribute('class', 'like-button btn btn-danger btn-outline-light')
    lastDiv.append(likeButton)
    let likeCounter = document.createElement('p')
    likeCounter.textContent = "Likes: "
    lastDiv.append(likeCounter)
    let latestNews = document.querySelector('#latest-news')
    latestNews.append(newsCard)
  }
  function addTopNews() {
    const newsCard = document.createElement('div')
    newsCard.setAttribute("class", "card mb-3 top-card")
    const row = document.createElement('div')
    row.setAttribute("class", "row g-0")
    newsCard.append(row)
    const col = document.createElement('div')
    col.setAttribute("class", "col-md-4")
    row.append(col)
    const newsImg = document.createElement('img')
    newsImg.setAttribute("class", "img-fluid rounded-start")
    newsImg.src = "./assets/img/rainy.png"
    col.append(newsImg)
    const nextDiv = document.createElement('div')
    nextDiv.setAttribute('class', 'col-md-8')
    row.append(nextDiv)
    const body = document.createElement('div')
    body.setAttribute('class', 'card-body')
    nextDiv.append(body)
    let newsTitle = document.createElement('h5')
    newsTitle.setAttribute('class', 'card-title')
    newsTitle.textContent = "Title"
    body.append(newsTitle)
    let newsText = document.createElement('p')
    newsText.setAttribute('class', 'card-text')
    newsText.textContent = "text here"
    body.append(newsText)
    const lastDiv = document.createElement('div')
    body.append(lastDiv)
    let readThis = document.createElement('a')
    readThis.href = ""
    readThis.textContent = "Content"
    lastDiv.append(readThis)
    let likeButton = document.createElement('button')
    likeButton.textContent = 'Like'
    likeButton.style.float = 'right'
    likeButton.setAttribute('type', 'button')
    likeButton.setAttribute('class', 'like-button btn btn-danger btn-outline-light')
    lastDiv.append(likeButton)
    let likeCounter = document.createElement('p')
    likeCounter.textContent = "Likes: "
    lastDiv.append(likeCounter)

    let topNews = document.querySelector('#top-news')
    topNews.append(newsCard)
  }

  let allLikeButtons = document.querySelectorAll('.like-button')
  let latestLikes = document.querySelectorAll('latest-card')

  allLikeButtons.forEach(likeButton => {
    likeButton.addEventListener('click',
      e.target.setAttribute('class', 'btn btn-secondary btn-outline-light'))
  })

</script>

</html>